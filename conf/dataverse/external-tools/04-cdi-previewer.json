{
  "displayName": "View CDI Metadata",
  "description": "View and edit DDI Cross-Domain Integration (CDI) metadata file using SHACL shapes.",
  "toolName": "cdiPreviewer",
  "scope": "file",
  "types": ["preview", "explore"],
  "toolUrl": "https://libis.github.io/cdi-viewer/index.html",
  "toolParameters": {
    "queryParameters": [
      {"fileid": "{fileId}"},
      {"siteUrl": "{siteUrl}"},
      {"datasetid": "{datasetId}"},
      {"datasetversion": "{datasetVersion}"},
      {"locale": "{localeCode}"}
    ]
  },
  "contentType": "application/ld+json;profile=\"http://www.w3.org/ns/json-ld#flattened http://www.w3.org/ns/json-ld#compacted https://ddialliance.org/specification/ddi-cdi/1.0\"",
  "allowedApiCalls": [
    {"name": "retrieveFileContents", "httpMethod": "GET", "urlTemplate": "/api/v1/access/datafile/{fileId}?gbrecs=true", "timeOut": 3600},
    {"name": "downloadFile", "httpMethod": "GET", "urlTemplate": "/api/v1/access/datafile/{fileId}?gbrecs=false", "timeOut": 3600},
    {"name": "getDatasetVersionMetadata", "httpMethod": "GET", "urlTemplate": "/api/v1/datasets/{datasetId}/versions/{datasetVersion}", "timeOut": 3600},
    {"name": "replaceFile", "httpMethod": "POST", "urlTemplate": "/api/files/{fileId}/replace", "timeOut": 3600}
  ]
}
